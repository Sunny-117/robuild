import{_ as a,o as i,c as n,ag as e}from"./chunks/framework.CvKhV4u_.js";const c=JSON.parse('{"title":"输出格式","description":"","frontmatter":{},"headers":[],"relativePath":"options/output-format.md","filePath":"options/output-format.md","lastUpdated":1771752101000}'),l={name:"options/output-format.md"};function t(p,s,h,r,d,k){return i(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="output-format" tabindex="-1">输出格式 <a class="header-anchor" href="#output-format" aria-label="Permalink to &quot;输出格式 {#output-format}&quot;">​</a></h1><p>默认情况下，<code>robuild</code> 会生成 ESM（ECMAScript 模块）格式的 JavaScript 代码。您可以通过 <code>--format</code> 选项指定所需的输出格式。</p><h2 id="available-formats" tabindex="-1">可用格式 <a class="header-anchor" href="#available-formats" aria-label="Permalink to &quot;可用格式 {#available-formats}&quot;">​</a></h2><ul><li><strong><code>esm</code></strong>：ECMAScript 模块格式，适用于现代 JavaScript 环境（默认）</li><li><strong><code>cjs</code></strong>：CommonJS 格式，用于 Node.js 项目</li><li><strong><code>iife</code></strong>：立即调用函数表达式，适合嵌入 <code>&lt;script&gt;</code> 标签</li><li><strong><code>umd</code></strong>：通用模块定义，兼容 AMD、CommonJS 以及全局变量</li></ul><h2 id="cli-usage" tabindex="-1">CLI 用法 <a class="header-anchor" href="#cli-usage" aria-label="Permalink to &quot;CLI 用法 {#cli-usage}&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成 ESM 格式输出（默认）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 同时生成 ESM 和 CJS 格式输出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cjs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成适用于浏览器的 IIFE 格式输出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iife</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyLib</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="config-usage" tabindex="-1">配置文件用法 <a class="header-anchor" href="#config-usage" aria-label="Permalink to &quot;配置文件用法 {#config-usage}&quot;">​</a></h2><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="build.config.ts">build.config.ts</span></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;robuild&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  entries: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bundle&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      input: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/index.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      format: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;esm&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div><h2 id="file-extensions" tabindex="-1">输出文件扩展名 <a class="header-anchor" href="#file-extensions" aria-label="Permalink to &quot;输出文件扩展名 {#file-extensions}&quot;">​</a></h2><p>不同格式会生成不同的文件扩展名：</p><table tabindex="0"><thead><tr><th>格式</th><th>Node 平台</th><th>Browser 平台</th></tr></thead><tbody><tr><td>esm</td><td><code>.mjs</code></td><td><code>.js</code></td></tr><tr><td>cjs</td><td><code>.cjs</code></td><td><code>.js</code></td></tr><tr><td>iife</td><td><code>.js</code></td><td><code>.js</code></td></tr></tbody></table><h2 id="global-name" tabindex="-1">IIFE/UMD 全局变量名 <a class="header-anchor" href="#global-name" aria-label="Permalink to &quot;IIFE/UMD 全局变量名 {#global-name}&quot;">​</a></h2><p>使用 <code>iife</code> 或 <code>umd</code> 格式时，需要指定全局变量名：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iife</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyLibrary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="build.config.ts">build.config.ts</span></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;robuild&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  entries: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bundle&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      input: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/index.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      format: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;iife&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      globalName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyLibrary&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>您可以在单个命令中指定多个格式，以生成适用于不同环境的输出。例如，结合使用 <code>esm</code> 和 <code>cjs</code> 格式可以确保同时兼容现代和传统系统。</p></div><h2 id="next-steps" tabindex="-1">下一步 <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;下一步 {#next-steps}&quot;">​</a></h2><ul><li><a href="./output-directory.html">输出目录</a> - 自定义输出位置</li><li><a href="./platform.html">目标平台</a> - 平台配置</li></ul>`,18)])])}const E=a(l,[["render",t]]);export{c as __pageData,E as default};
