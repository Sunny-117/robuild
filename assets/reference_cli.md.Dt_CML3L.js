import{_ as a,o as s,c as e,ag as i}from"./chunks/framework.CvKhV4u_.js";const k=JSON.parse('{"title":"命令行接口","description":"","frontmatter":{},"headers":[],"relativePath":"reference/cli.md","filePath":"reference/cli.md","lastUpdated":1771752101000}'),d={name:"reference/cli.md"};function n(l,t,r,o,h,p){return s(),e("div",null,[...t[0]||(t[0]=[i(`<h1 id="cli" tabindex="-1">命令行接口 <a class="header-anchor" href="#cli" aria-label="Permalink to &quot;命令行接口 {#cli}&quot;">​</a></h1><h2 id="basic-usage" tabindex="-1">基本用法 <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;基本用法 {#basic-usage}&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [entries...] [options]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="options" tabindex="-1">选项 <a class="header-anchor" href="#options" aria-label="Permalink to &quot;选项 {#options}&quot;">​</a></h2><h3 id="basic-options" tabindex="-1">基础选项 <a class="header-anchor" href="#basic-options" aria-label="Permalink to &quot;基础选项 {#basic-options}&quot;">​</a></h3><table tabindex="0"><thead><tr><th>选项</th><th>简写</th><th>说明</th></tr></thead><tbody><tr><td><code>--config &lt;file&gt;</code></td><td><code>-c</code></td><td>指定配置文件</td></tr><tr><td><code>--no-config</code></td><td></td><td>禁用配置文件</td></tr><tr><td><code>--dir &lt;dir&gt;</code></td><td></td><td>工作目录（默认: <code>.</code>）</td></tr><tr><td><code>--out-dir &lt;dir&gt;</code></td><td><code>-d</code></td><td>输出目录（默认: <code>dist</code>）</td></tr><tr><td><code>--watch</code></td><td><code>-w</code></td><td>监听模式</td></tr><tr><td><code>--stub</code></td><td></td><td>Stub 开发模式</td></tr></tbody></table><h3 id="output-options" tabindex="-1">输出选项 <a class="header-anchor" href="#output-options" aria-label="Permalink to &quot;输出选项 {#output-options}&quot;">​</a></h3><table tabindex="0"><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>--format &lt;format&gt;</code></td><td><code>-f</code></td></tr><tr><td><code>--platform &lt;platform&gt;</code></td><td>目标平台: browser, node, neutral</td></tr><tr><td><code>--target &lt;target&gt;</code></td><td>ES 版本: es2015, es2020, esnext</td></tr><tr><td><code>--global-name &lt;name&gt;</code></td><td>IIFE/UMD 全局变量名</td></tr></tbody></table><h3 id="optimization-options" tabindex="-1">优化选项 <a class="header-anchor" href="#optimization-options" aria-label="Permalink to &quot;优化选项 {#optimization-options}&quot;">​</a></h3><table tabindex="0"><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>--minify</code></td><td>压缩代码</td></tr><tr><td><code>--sourcemap</code></td><td>生成 source map</td></tr><tr><td><code>--splitting</code></td><td>代码分割</td></tr><tr><td><code>--treeshake</code></td><td>Tree shaking（默认开启）</td></tr></tbody></table><h3 id="type-declarations" tabindex="-1">类型声明 <a class="header-anchor" href="#type-declarations" aria-label="Permalink to &quot;类型声明 {#type-declarations}&quot;">​</a></h3><table tabindex="0"><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>--dts</code></td><td>生成类型声明文件</td></tr><tr><td><code>--dts-only</code></td><td>仅生成类型声明</td></tr></tbody></table><h3 id="dependency-handling" tabindex="-1">依赖处理 <a class="header-anchor" href="#dependency-handling" aria-label="Permalink to &quot;依赖处理 {#dependency-handling}&quot;">​</a></h3><table tabindex="0"><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>--external &lt;module&gt;</code></td><td>外部化依赖</td></tr><tr><td><code>--no-external &lt;module&gt;</code></td><td>强制打包依赖</td></tr><tr><td><code>--skip-node-modules</code></td><td>跳过 node_modules</td></tr></tbody></table><h3 id="other-options" tabindex="-1">其他选项 <a class="header-anchor" href="#other-options" aria-label="Permalink to &quot;其他选项 {#other-options}&quot;">​</a></h3><table tabindex="0"><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>--clean</code></td><td>清理输出目录</td></tr><tr><td><code>--no-clean</code></td><td>禁用清理</td></tr><tr><td><code>--shims</code></td><td>启用兼容性垫片</td></tr><tr><td><code>--unbundle</code></td><td>保留文件结构不打包</td></tr><tr><td><code>--generate-exports</code></td><td>生成 package.json exports</td></tr><tr><td><code>--on-success &lt;cmd&gt;</code></td><td>构建成功后执行命令</td></tr><tr><td><code>--log-level &lt;level&gt;</code></td><td><code>-l</code></td></tr><tr><td><code>--fail-on-warn</code></td><td>警告时失败</td></tr><tr><td><code>--ignore-watch &lt;pattern&gt;</code></td><td>监听模式忽略文件</td></tr><tr><td><code>--from-vite</code></td><td>从 Vite 配置加载</td></tr><tr><td><code>--cjs-default &lt;mode&gt;</code></td><td>CJS 默认导出处理: true, false, auto</td></tr></tbody></table><h2 id="examples" tabindex="-1">示例 <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;示例 {#examples}&quot;">​</a></h2><h3 id="basic-build" tabindex="-1">基本构建 <a class="header-anchor" href="#basic-build" aria-label="Permalink to &quot;基本构建 {#basic-build}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="multiple-formats" tabindex="-1">多格式输出 <a class="header-anchor" href="#multiple-formats" aria-label="Permalink to &quot;多格式输出 {#multiple-formats}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cjs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="browser-library" tabindex="-1">浏览器库 <a class="header-anchor" href="#browser-library" aria-label="Permalink to &quot;浏览器库 {#browser-library}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iife</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global-name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyLib</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="cli-tool" tabindex="-1">CLI 工具 <a class="header-anchor" href="#cli-tool" aria-label="Permalink to &quot;CLI 工具 {#cli-tool}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/cli.ts</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --minify</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="transform-mode" tabindex="-1">Transform 模式 <a class="header-anchor" href="#transform-mode" aria-label="Permalink to &quot;Transform 模式 {#transform-mode}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/runtime/:./dist/runtime</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="watch-mode" tabindex="-1">监听模式 <a class="header-anchor" href="#watch-mode" aria-label="Permalink to &quot;监听模式 {#watch-mode}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="dev-mode" tabindex="-1">开发模式 <a class="header-anchor" href="#dev-mode" aria-label="Permalink to &quot;开发模式 {#dev-mode}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./src/index.ts</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --stub</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="with-config" tabindex="-1">使用配置文件 <a class="header-anchor" href="#with-config" aria-label="Permalink to &quot;使用配置文件 {#with-config}&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                           # 使用 build.config.ts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">robuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> custom.config.ts</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 指定配置文件</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="package-scripts" tabindex="-1">package.json 脚本 <a class="header-anchor" href="#package-scripts" aria-label="Permalink to &quot;package.json 脚本 {#package-scripts}&quot;">​</a></h2><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="package.json">package.json</span></div><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;robuild ./src/index.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;robuild ./src/index.ts --stub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;watch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;robuild ./src/index.ts -w&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div><h2 id="next-steps" tabindex="-1">下一步 <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;下一步 {#next-steps}&quot;">​</a></h2><ul><li><a href="./config.html">配置选项</a> - 配置文件选项</li><li><a href="./types.html">类型定义</a> - 完整类型</li></ul>`,37)])])}const b=a(d,[["render",n]]);export{k as __pageData,b as default};
